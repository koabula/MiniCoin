## 密码学

生活中密码一词往往被视为登录网页的密码，事实上这个"密码"或许被叫做口令更为合适。今天我们这里讨论的密码指的是Cryptography，最初代表的意思是信息保密地保存和传输。

这里我们简单介绍一些区块链中使用到的密码学算法

### 哈希算法(Hash)
你可能知道哈希表，那便是哈希算法的一个应用。哈希算法将一个任意长度的输入转化为一个固定长度的输出。显然这是一种不可逆的运算，我们不能通过哈希值还原出输入。
![alt text](../pic/hash_function_diagram.svg)

一个简单的Hash:

```python
def simple_hash(x):
    return x % 1024
```

这个函数将输入对1024取模，使得一个输入转化为了一个10位的输出。显然，对1024同模的数会产生同样的哈希值，这就是哈希碰撞

在区块链中，哈希算法作为一个数据摘要的实现，我们希望使用的哈希函数具有抗碰撞性，即没有一个高效的方法制造哈希碰撞。任何方法都和从0开始遍历的效率一样，这便实现了工作量证明。

我们可以使用python中的hashlib来调用一些哈希函数，比如说比特币使用的SHA-256

```python
import hashlib

data = "hello blockchain"

data_digest = hashlib.sha256()
data_digest.update(data.encode())

print(data_digest.hexdigest())

```

这会输出data="hello blockchain"的哈希值"`cf55026ba78c889dbdaf0c32701cdb4d662f3d3ea4460110d3ed2edd0d753e72`

如果我们把data改为"hello blockchain!"的话，我们发现输出的哈希值变成了"`108be1bede687534d56a8229d4deabccfd9ee83358b15e3e95286915b8a4f648`"
我们只是增加了一个符号，哈希值便发生了巨大的改变

### 非对称加密

首先我们说说对称加密，这是指加密和解密的密钥相同的加密算法。比如说你和你的同桌上课传纸条，你们约定把每个字母向后偏移1个位置来加密，也就是说a->b,d->e,z->a，那么1就是加密和解密的密钥，这便是对称加密。

非对称加密是一种使用一对密钥的加密方式——公钥和私钥。公钥可以公开分享,而私钥需要保密。使用公钥加密的信息只能用对应的私钥解密,反之亦然。比如说你给你的女朋友传礼物，但是你不想让中间人知道你送的时什么，于是你从女朋友那里拿了一个锁 ( 公钥 ) ，用这把锁把礼物锁起来再送出去。女朋友拿到时，使用自己的钥匙 ( 私钥 ) 打开锁，就安全拿到了礼物。这便是非对称加密。

在区块链中,非对称加密主要有以下应用:

1. 数字签名
- 用户使用私钥对交易进行签名
- 其他节点可以使用发送方的公钥验证签名的真实性
- 这确保了交易确实来自声称的发送方

2. 账户地址
- 用户的公钥经过哈希运算后生成区块链地址
- 私钥用于控制该地址上的资产
- 这实现了去中心化的账户系统

3. 安全通信
- 节点间可以使用对方的公钥加密通信内容
- 确保网络传输的安全性

比特币使用椭圆曲线数字签名算法(ECDSA)作为其非对称加密算法。下面是一个使用Python实现的简单示例:
